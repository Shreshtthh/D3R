"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "(pages-dir-browser)/./utils/web3.js":
/*!***********************!*\
  !*** ./utils/web3.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DISASTER_TYPES: () => (/* binding */ DISASTER_TYPES),\n/* harmony export */   URGENCY_LEVELS: () => (/* binding */ URGENCY_LEVELS),\n/* harmony export */   checkWeb3Connection: () => (/* binding */ checkWeb3Connection),\n/* harmony export */   connectWallet: () => (/* binding */ connectWallet),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   donate: () => (/* binding */ donate),\n/* harmony export */   getContractAddresses: () => (/* binding */ getContractAddresses),\n/* harmony export */   getDashboardStats: () => (/* binding */ getDashboardStats),\n/* harmony export */   getNGODetails: () => (/* binding */ getNGODetails),\n/* harmony export */   getReliefCampaigns: () => (/* binding */ getReliefCampaigns),\n/* harmony export */   getVerificationStatus: () => (/* binding */ getVerificationStatus),\n/* harmony export */   initWeb3: () => (/* binding */ initWeb3),\n/* harmony export */   isNGOVerified: () => (/* binding */ isNGOVerified),\n/* harmony export */   verifyIPFSDocument: () => (/* binding */ verifyIPFSDocument)\n/* harmony export */ });\n/* harmony import */ var web3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3 */ \"(pages-dir-browser)/./node_modules/web3/lib/esm/index.js\");\n/* harmony import */ var _contracts_D3RProtocol_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contracts/D3RProtocol.json */ \"(pages-dir-browser)/./contracts/D3RProtocol.json\");\n/* harmony import */ var _contracts_MilestoneFunding_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contracts/MilestoneFunding.json */ \"(pages-dir-browser)/./contracts/MilestoneFunding.json\");\n/* harmony import */ var _contracts_NGORegistry_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../contracts/NGORegistry.json */ \"(pages-dir-browser)/./contracts/NGORegistry.json\");\n/* harmony import */ var _contracts_ChainlinkDisasterOracle_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contracts/ChainlinkDisasterOracle.json */ \"(pages-dir-browser)/./contracts/ChainlinkDisasterOracle.json\");\n/* harmony import */ var _contracts_IPFSVerifier_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../contracts/IPFSVerifier.json */ \"(pages-dir-browser)/./contracts/IPFSVerifier.json\");\n/* harmony import */ var _contracts_FundPool_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../contracts/FundPool.json */ \"(pages-dir-browser)/./contracts/FundPool.json\");\n/* harmony import */ var _contracts_DonationTracker_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../contracts/DonationTracker.json */ \"(pages-dir-browser)/./contracts/DonationTracker.json\");\n\n\n\n\n\n\n\n\nlet web3;\nlet d3rProtocol;\nlet milestoneFunding;\nlet ngoRegistry;\nlet disasterOracle;\nlet ipfsVerifier;\nlet fundPool;\nlet donationTracker;\n// Contract addresses - deployed contract addresses\nconst D3R_PROTOCOL_ADDRESS = '0xB0C04bF81c2D64cC5Ae4CCeaFe6906D391476304';\nconst MILESTONE_FUNDING_ADDRESS = '0xD09c0b1677107e25B78271dA70295580Bf8BEA52';\nconst NGO_REGISTRY_ADDRESS = '0x8e675e5C8efF2398D70eeeE62Bd85AB8084b8A01';\nconst DISASTER_ORACLE_ADDRESS = '0x109457d4c8501174f774339E4B37635e3f818C94';\nconst IPFS_VERIFIER_ADDRESS = '0x4DF627FCDf639D6a4dc420924Df6709e404493c4';\nconst FUND_POOL_ADDRESS = '0x52146d464e5DD3a7046940b85231007385AB3105';\nconst DONATION_TRACKER_ADDRESS = '0x97154aCFa6f5E85494D0EFd2332368b13b2Da8dc';\n// Disaster types defined in the system\nconst DISASTER_TYPES = {\n    EARTHQUAKE: 'Earthquake',\n    HURRICANE: 'Hurricane',\n    FLOOD: 'Flood',\n    WILDFIRE: 'Wildfire',\n    DROUGHT: 'Drought',\n    TSUNAMI: 'Tsunami',\n    VOLCANIC_ERUPTION: 'Volcanic Eruption',\n    PANDEMIC: 'Pandemic',\n    OTHER: 'Other'\n};\n// Urgency levels defined in the system\nconst URGENCY_LEVELS = {\n    'Critical (Level 5)': 5,\n    'High (Level 4)': 4,\n    'Medium (Level 3)': 3,\n    'Low (Level 2)': 2,\n    'Recovery (Level 1)': 1\n};\n// Initialize Web3 and contract instances\nconst initWeb3 = async ()=>{\n    try {\n        let accounts = [];\n        // Check if we're in a browser and if ethereum is injected\n        if ( true && window.ethereum) {\n            console.log(\"Found window.ethereum, attempting to connect\");\n            try {\n                // Request account access if needed\n                accounts = await window.ethereum.request({\n                    method: 'eth_requestAccounts'\n                });\n                console.log(\"Accounts: \", accounts);\n                // Create Web3 instance\n                web3 = new web3__WEBPACK_IMPORTED_MODULE_0__[\"default\"](window.ethereum);\n                // Set up event listeners for account/network changes\n                window.ethereum.on('accountsChanged', (newAccounts)=>{\n                    console.log('accountsChanged', newAccounts);\n                    // Reload the page to reset the state\n                    window.location.reload();\n                });\n                window.ethereum.on('chainChanged', (chainId)=>{\n                    console.log('chainChanged', chainId);\n                    // Reload the page to reset the state\n                    window.location.reload();\n                });\n                window.ethereum.on('disconnect', ()=>{\n                    console.log('disconnect');\n                    web3 = null;\n                    // Reload the page to reset the state\n                    window.location.reload();\n                });\n            } catch (error) {\n                console.error(\"Error requesting account access:\", error);\n            // Don't throw, continue with read-only access\n            }\n        } else if ( true && window.web3) {\n            // Legacy support for older MetaMask/Web3 implementations\n            console.log(\"Found legacy web3\");\n            web3 = new web3__WEBPACK_IMPORTED_MODULE_0__[\"default\"](window.web3.currentProvider);\n            accounts = await web3.eth.getAccounts();\n        } else {\n            console.log(\"No Web3 wallet detected, using read-only provider\");\n            // Set up a read-only provider for non-wallet users\n            const provider = new web3__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providers.HttpProvider(\"https://eth-sepolia.g.alchemy.com/v2/demo\");\n            web3 = new web3__WEBPACK_IMPORTED_MODULE_0__[\"default\"](provider);\n        }\n        // Initialize contract instances only if web3 is setup\n        if (web3) {\n            try {\n                d3rProtocol = new web3.eth.Contract(_contracts_D3RProtocol_json__WEBPACK_IMPORTED_MODULE_1__.abi, D3R_PROTOCOL_ADDRESS);\n                milestoneFunding = new web3.eth.Contract(_contracts_MilestoneFunding_json__WEBPACK_IMPORTED_MODULE_2__.abi, MILESTONE_FUNDING_ADDRESS);\n                ngoRegistry = new web3.eth.Contract(_contracts_NGORegistry_json__WEBPACK_IMPORTED_MODULE_3__.abi, NGO_REGISTRY_ADDRESS);\n                disasterOracle = new web3.eth.Contract(_contracts_ChainlinkDisasterOracle_json__WEBPACK_IMPORTED_MODULE_4__.abi, DISASTER_ORACLE_ADDRESS);\n                ipfsVerifier = new web3.eth.Contract(_contracts_IPFSVerifier_json__WEBPACK_IMPORTED_MODULE_5__.abi, IPFS_VERIFIER_ADDRESS);\n                fundPool = new web3.eth.Contract(_contracts_FundPool_json__WEBPACK_IMPORTED_MODULE_6__.abi, FUND_POOL_ADDRESS);\n                donationTracker = new web3.eth.Contract(_contracts_DonationTracker_json__WEBPACK_IMPORTED_MODULE_7__.abi, DONATION_TRACKER_ADDRESS);\n                window.web3 = web3; // Make web3 available globally for utility functions\n            } catch (contractError) {\n                console.error(\"Error initializing contracts:\", contractError);\n            }\n        }\n        return {\n            web3,\n            accounts\n        };\n    } catch (error) {\n        console.error(\"Error initializing web3:\", error);\n        return {\n            web3: null,\n            accounts: []\n        };\n    }\n};\n// Check connection status\nconst checkWeb3Connection = async ()=>{\n    try {\n        const { web3, accounts } = await initWeb3();\n        if (!web3) {\n            return 'Web3 not available';\n        }\n        if (!accounts || accounts.length === 0) {\n            return 'Not connected to wallet';\n        }\n        const networkId = await web3.eth.net.getId();\n        const networkType = await web3.eth.net.getNetworkType();\n        return \"Connected to \".concat(accounts[0], \" on \").concat(networkType, \" (\").concat(networkId, \")\");\n    } catch (error) {\n        console.error(\"Connection check failed:\", error);\n        return \"Connection error: \".concat(error.message);\n    }\n};\n// Connect wallet explicitly (for connect button)\nconst connectWallet = async ()=>{\n    if ( true && window.ethereum) {\n        try {\n            // Request account access\n            const accounts = await window.ethereum.request({\n                method: 'eth_requestAccounts'\n            });\n            // Reinitialize web3\n            const result = await initWeb3();\n            // Check if we're on the right network\n            const networkId = await web3.eth.net.getId();\n            const expectedNetwork = \"1\" || 0;\n            if (networkId.toString() !== expectedNetwork) {\n                const networkName = \"Ethereum Sepolia Testnet\" || 0;\n                // Prompt user to switch networks\n                try {\n                    await window.ethereum.request({\n                        method: 'wallet_switchEthereumChain',\n                        params: [\n                            {\n                                chainId: \"0x\".concat(parseInt(expectedNetwork).toString(16))\n                            }\n                        ]\n                    });\n                } catch (switchError) {\n                    console.error(\"Failed to switch networks:\", switchError);\n                    return {\n                        success: false,\n                        error: \"Please switch to \".concat(networkName, \" in your wallet\")\n                    };\n                }\n            }\n            return {\n                success: true,\n                address: accounts[0],\n                networkId\n            };\n        } catch (error) {\n            console.error(\"Failed to connect wallet:\", error);\n            return {\n                success: false,\n                error: error.message || \"Failed to connect wallet\"\n            };\n        }\n    } else {\n        return {\n            success: false,\n            error: \"No Ethereum wallet detected. Please install MetaMask.\"\n        };\n    }\n};\n// Get all active relief campaigns with verification status\nconst getReliefCampaigns = async function() {\n    let filters = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    try {\n        await initWeb3();\n        // Get project count\n        const projectCount = await milestoneFunding.methods.projectCount().call();\n        const campaigns = [];\n        // Load all projects\n        for(let i = 0; i < projectCount; i++){\n            try {\n                const projectDetails = await milestoneFunding.methods.getProjectDetails(i).call();\n                // Only include active projects\n                if (projectDetails.isActive) {\n                    var _metadata_location;\n                    // Try to get metadata about the disaster (could be stored in IPFS or as events)\n                    let metadata = {};\n                    try {\n                        // In a production environment, we would fetch metadata from IPFS or blockchain events\n                        // For now, we'll use placeholder data\n                        const disasterType = getRandomDisasterType(i);\n                        const disasterId = \"DS-\".concat(2023, \"-\").concat(1000 + i);\n                        metadata = {\n                            disasterType: disasterType,\n                            location: getLocationForDisasterType(disasterType),\n                            disasterId: disasterId,\n                            urgencyLevel: getUrgencyForDisasterType(disasterType)\n                        };\n                        // Try to get verification from the Oracle contract\n                        try {\n                            const verification = await disasterOracle.methods.getDisasterVerification(disasterId).call();\n                            metadata.verified = verification.verified;\n                            metadata.confidence = verification.confidence;\n                            metadata.source = verification.source || \"Chainlink Oracles\";\n                        } catch (verificationError) {\n                            console.log(\"Could not get verification for disaster \".concat(disasterId), verificationError);\n                            metadata.verified = i % 3 === 0; // For testing: make every third project verified\n                            metadata.confidence = metadata.verified ? 85 : 0;\n                            metadata.source = metadata.verified ? \"Chainlink Weather Data\" : \"\";\n                        }\n                    } catch (metadataError) {\n                        console.error(\"Error fetching metadata for project \".concat(i, \":\"), metadataError);\n                    }\n                    // Apply filters if provided\n                    if (filters.disasterType && metadata.disasterType !== filters.disasterType || filters.location && !((_metadata_location = metadata.location) === null || _metadata_location === void 0 ? void 0 : _metadata_location.toLowerCase().includes(filters.location.toLowerCase())) || filters.urgency > 0 && metadata.urgencyLevel !== parseInt(filters.urgency)) {\n                        continue; // Skip this campaign if it doesn't match filters\n                    }\n                    // Get milestone information\n                    const milestones = [];\n                    for(let j = 0; j < projectDetails.milestoneCount; j++){\n                        try {\n                            const milestone = await milestoneFunding.methods.getMilestoneDetails(i, j).call();\n                            milestones.push({\n                                ...milestone,\n                                id: j\n                            });\n                        } catch (milestoneError) {\n                            console.error(\"Error fetching milestone \".concat(j, \" for project \").concat(i, \":\"), milestoneError);\n                        }\n                    }\n                    // Get NGO details\n                    let ngoDetails = {\n                        name: \"Unknown NGO\"\n                    };\n                    try {\n                        ngoDetails = await ngoRegistry.methods.getNGODetails(projectDetails.ngoAddress).call();\n                    } catch (ngoError) {\n                        console.error(\"Error fetching NGO details for address \".concat(projectDetails.ngoAddress, \":\"), ngoError);\n                    }\n                    // Add campaign to the list\n                    campaigns.push({\n                        id: i,\n                        title: projectDetails.name,\n                        description: projectDetails.description,\n                        creator: projectDetails.ngoAddress,\n                        ngoName: ngoDetails.name || \"Unknown NGO\",\n                        currentAmount: projectDetails.releasedFunding,\n                        targetAmount: projectDetails.totalFunding,\n                        milestonesCompleted: parseInt(projectDetails.milestonesCompleted),\n                        milestoneCount: parseInt(projectDetails.milestoneCount),\n                        milestones: milestones,\n                        isActive: projectDetails.isActive,\n                        deadline: calculateDeadline(i),\n                        parsedMetadata: metadata\n                    });\n                }\n            } catch (projectError) {\n                console.error(\"Error loading project \".concat(i, \":\"), projectError);\n            }\n        }\n        return campaigns;\n    } catch (error) {\n        console.error(\"Error getting relief campaigns:\", error);\n        throw error;\n    }\n};\n// Donate to a relief campaign\nconst donate = async (campaignId, amount)=>{\n    try {\n        const { web3, accounts } = await initWeb3();\n        if (!accounts || accounts.length === 0) {\n            throw new Error(\"No connected wallet accounts\");\n        }\n        const amountWei = web3.utils.toWei(amount.toString(), 'ether');\n        // Get the project details to check if it's active\n        const projectDetails = await milestoneFunding.methods.getProjectDetails(campaignId).call();\n        if (!projectDetails.isActive) {\n            throw new Error(\"This relief project is no longer active\");\n        }\n        // There's no direct donation method in MilestoneFunding in the contract code\n        // We'll use D3RProtocol to handle the donation\n        try {\n            // Try to donate via the main protocol contract\n            await d3rProtocol.methods.donateToProject(campaignId).send({\n                from: accounts[0],\n                value: amountWei\n            });\n        } catch (protocolError) {\n            console.error(\"D3RProtocol donation failed, trying direct transaction:\", protocolError);\n            // If the protocol doesn't have a donateToProject method, try a direct transaction\n            await web3.eth.sendTransaction({\n                from: accounts[0],\n                to: MILESTONE_FUNDING_ADDRESS,\n                value: amountWei,\n                data: web3.eth.abi.encodeFunctionCall({\n                    name: 'addFundsToProject',\n                    type: 'function',\n                    inputs: [\n                        {\n                            type: 'uint256',\n                            name: 'projectId'\n                        }\n                    ]\n                }, [\n                    campaignId\n                ])\n            });\n        }\n        return true;\n    } catch (error) {\n        console.error(\"Error donating to campaign:\", error);\n        throw error;\n    }\n};\n// Get verification status of a relief campaign\nconst getVerificationStatus = async (disasterId)=>{\n    try {\n        await initWeb3();\n        const verification = await disasterOracle.methods.getDisasterVerification(disasterId).call();\n        return verification;\n    } catch (error) {\n        console.error(\"Error getting verification status:\", error);\n        return {\n            verified: false,\n            confidence: 0,\n            source: \"Error retrieving data\",\n            timestamp: 0\n        };\n    }\n};\n// Get NGO details\nconst getNGODetails = async (ngoAddress)=>{\n    try {\n        await initWeb3();\n        const ngoDetails = await ngoRegistry.methods.getNGODetails(ngoAddress).call();\n        return ngoDetails;\n    } catch (error) {\n        console.error(\"Error getting NGO details:\", error);\n        return null;\n    }\n};\n// Get dashboard stats\nconst getDashboardStats = async ()=>{\n    try {\n        const { web3 } = await initWeb3();\n        // Get NGO count\n        let verifiedNGOsCount = 0;\n        try {\n            verifiedNGOsCount = await ngoRegistry.methods.getVerifiedNGOsCount().call();\n        } catch (ngoError) {\n            console.error(\"Error getting verified NGO count:\", ngoError);\n        }\n        // Get project count and calculate total funding and people helped\n        let projectCount = 0;\n        try {\n            projectCount = await milestoneFunding.methods.projectCount().call();\n        } catch (projectError) {\n            console.error(\"Error getting project count:\", projectError);\n        }\n        // Safely create a BigNumber (if web3.utils.toBN isn't available, use standard string handling)\n        let totalDonations = \"0\";\n        let totalDonationsBN;\n        try {\n            // Check if web3.utils has the toBN function\n            if (web3 && web3.utils && typeof web3.utils.toBN === 'function') {\n                totalDonationsBN = web3.utils.toBN(\"0\");\n            } else {\n                // Fallback to string-based handling\n                totalDonations = \"0\";\n            }\n        } catch (error) {\n            console.error(\"Error with BigNumber handling:\", error);\n            totalDonations = \"0\";\n        }\n        let activeCampaigns = 0;\n        let totalPeopleHelped = 0;\n        for(let i = 0; i < projectCount; i++){\n            try {\n                const projectDetails = await milestoneFunding.methods.getProjectDetails(i).call();\n                // Handle the total donations amount safely\n                try {\n                    if (totalDonationsBN) {\n                        // Use BN addition if available\n                        totalDonationsBN = totalDonationsBN.add(web3.utils.toBN(projectDetails.totalFunding));\n                    } else {\n                        // Fallback to simple string/number handling\n                        const fundingInEther = web3 && web3.utils ? web3.utils.fromWei(projectDetails.totalFunding, 'ether') : parseFloat(projectDetails.totalFunding) / 1e18;\n                        totalDonations = (parseFloat(totalDonations) + parseFloat(fundingInEther)).toString();\n                    }\n                } catch (bnError) {\n                    console.error(\"Error adding to donation total:\", bnError);\n                    // Fallback to simple addition\n                    totalDonations = (parseFloat(totalDonations) + parseFloat(projectDetails.totalFunding) / 1e18).toFixed(4);\n                }\n                if (projectDetails.isActive) {\n                    activeCampaigns++;\n                    // In a real scenario, you'd have a way to track people helped per project\n                    // For now, use a formula based on project funding and milestones\n                    const totalFundingEth = web3 && web3.utils ? parseFloat(web3.utils.fromWei(projectDetails.totalFunding, 'ether')) : parseFloat(projectDetails.totalFunding) / 1e18;\n                    const peopleHelpedEstimate = Math.floor(totalFundingEth * 150);\n                    totalPeopleHelped += peopleHelpedEstimate;\n                }\n            } catch (error) {\n                console.error(\"Error getting details for project \".concat(i, \":\"), error);\n            }\n        }\n        // Format the final totalDonations value\n        let formattedDonations;\n        if (totalDonationsBN) {\n            formattedDonations = web3.utils.fromWei(totalDonationsBN, 'ether');\n        } else {\n            // If we've been tracking in ether already, use that value\n            formattedDonations = totalDonations;\n        }\n        return {\n            totalDonations: formattedDonations,\n            activeCampaigns,\n            peopleHelped: totalPeopleHelped,\n            verifiedNGOs: parseInt(verifiedNGOsCount)\n        };\n    } catch (error) {\n        console.error(\"Error getting dashboard stats:\", error);\n        // Return dummy data as fallback\n        return {\n            totalDonations: \"0\",\n            activeCampaigns: 0,\n            peopleHelped: 0,\n            verifiedNGOs: 0\n        };\n    }\n};\n// Helper functions for generating test data\nfunction getRandomDisasterType(seed) {\n    const types = Object.values(DISASTER_TYPES);\n    return types[seed % types.length];\n}\nfunction getLocationForDisasterType(disasterType) {\n    const locations = {\n        [DISASTER_TYPES.EARTHQUAKE]: \"Port-au-Prince, Haiti\",\n        [DISASTER_TYPES.HURRICANE]: \"New Orleans, USA\",\n        [DISASTER_TYPES.FLOOD]: \"Kerala, India\",\n        [DISASTER_TYPES.WILDFIRE]: \"California, USA\",\n        [DISASTER_TYPES.DROUGHT]: \"Nairobi, Kenya\",\n        [DISASTER_TYPES.TSUNAMI]: \"Phuket, Thailand\",\n        [DISASTER_TYPES.VOLCANIC_ERUPTION]: \"Bali, Indonesia\",\n        [DISASTER_TYPES.PANDEMIC]: \"Global Response\",\n        [DISASTER_TYPES.OTHER]: \"Multiple Regions\"\n    };\n    return locations[disasterType] || \"Unknown Location\";\n}\nfunction getUrgencyForDisasterType(disasterType) {\n    const urgencies = {\n        [DISASTER_TYPES.EARTHQUAKE]: 5,\n        [DISASTER_TYPES.HURRICANE]: 4,\n        [DISASTER_TYPES.FLOOD]: 4,\n        [DISASTER_TYPES.WILDFIRE]: 3,\n        [DISASTER_TYPES.DROUGHT]: 2,\n        [DISASTER_TYPES.TSUNAMI]: 5,\n        [DISASTER_TYPES.VOLCANIC_ERUPTION]: 3,\n        [DISASTER_TYPES.PANDEMIC]: 4,\n        [DISASTER_TYPES.OTHER]: 3\n    };\n    return urgencies[disasterType] || 3;\n}\nfunction calculateDeadline(projectId) {\n    // Create deterministic but varied deadlines\n    const now = Math.floor(Date.now() / 1000);\n    const daysFromNow = 10 + projectId * 5 % 60; // Between 10 and 70 days\n    return now + daysFromNow * 24 * 60 * 60;\n}\n// Check if an NGO is verified\nconst isNGOVerified = async (ngoAddress)=>{\n    try {\n        await initWeb3();\n        const isVerified = await ngoRegistry.methods.isVerified(ngoAddress).call();\n        return isVerified;\n    } catch (error) {\n        console.error(\"Error checking if NGO is verified:\", error);\n        return false;\n    }\n};\n// Verify document on IPFS\nconst verifyIPFSDocument = async (cid)=>{\n    try {\n        const { accounts } = await initWeb3();\n        await ipfsVerifier.methods.verifyDocument(cid).send({\n            from: accounts[0]\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error verifying IPFS document:\", error);\n        throw error;\n    }\n};\n// Get contract addresses for frontend display\nconst getContractAddresses = ()=>{\n    return {\n        d3rProtocol: D3R_PROTOCOL_ADDRESS,\n        milestoneFunding: MILESTONE_FUNDING_ADDRESS,\n        ngoRegistry: NGO_REGISTRY_ADDRESS,\n        disasterOracle: DISASTER_ORACLE_ADDRESS,\n        ipfsVerifier: IPFS_VERIFIER_ADDRESS,\n        fundPool: FUND_POOL_ADDRESS,\n        donationTracker: DONATION_TRACKER_ADDRESS\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    initWeb3,\n    getReliefCampaigns,\n    donate,\n    getVerificationStatus,\n    getNGODetails,\n    getDashboardStats,\n    isNGOVerified,\n    verifyIPFSDocument,\n    getContractAddresses,\n    DISASTER_TYPES,\n    URGENCY_LEVELS,\n    checkWeb3Connection,\n    connectWallet\n});\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3V0aWxzL3dlYjMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUNtQztBQUNVO0FBQ1Y7QUFDd0I7QUFDdEI7QUFDUjtBQUNjO0FBRW5FLElBQUlRO0FBQ0osSUFBSUM7QUFDSixJQUFJQztBQUNKLElBQUlDO0FBQ0osSUFBSUM7QUFDSixJQUFJQztBQUNKLElBQUlDO0FBQ0osSUFBSUM7QUFFSixtREFBbUQ7QUFDbkQsTUFBTUMsdUJBQXVCO0FBQzdCLE1BQU1DLDRCQUE0QjtBQUNsQyxNQUFNQyx1QkFBdUI7QUFDN0IsTUFBTUMsMEJBQTBCO0FBQ2hDLE1BQU1DLHdCQUF3QjtBQUM5QixNQUFNQyxvQkFBb0I7QUFDMUIsTUFBTUMsMkJBQTJCO0FBRWpDLHVDQUF1QztBQUNoQyxNQUFNQyxpQkFBaUI7SUFDNUJDLFlBQVk7SUFDWkMsV0FBVztJQUNYQyxPQUFPO0lBQ1BDLFVBQVU7SUFDVkMsU0FBUztJQUNUQyxTQUFTO0lBQ1RDLG1CQUFtQjtJQUNuQkMsVUFBVTtJQUNWQyxPQUFPO0FBQ1QsRUFBRTtBQUVGLHVDQUF1QztBQUNoQyxNQUFNQyxpQkFBaUI7SUFDNUIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixvQkFBb0I7SUFDcEIsaUJBQWlCO0lBQ2pCLHNCQUFzQjtBQUN4QixFQUFFO0FBRUYseUNBQXlDO0FBQ2xDLE1BQU1DLFdBQVc7SUFDdEIsSUFBSTtRQUNGLElBQUlDLFdBQVcsRUFBRTtRQUVqQiwwREFBMEQ7UUFDMUQsSUFBSSxLQUE2QixJQUFJQyxPQUFPQyxRQUFRLEVBQUU7WUFDcERDLFFBQVFDLEdBQUcsQ0FBQztZQUVaLElBQUk7Z0JBQ0YsbUNBQW1DO2dCQUNuQ0osV0FBVyxNQUFNQyxPQUFPQyxRQUFRLENBQUNHLE9BQU8sQ0FBQztvQkFBRUMsUUFBUTtnQkFBc0I7Z0JBQ3pFSCxRQUFRQyxHQUFHLENBQUMsY0FBY0o7Z0JBRTFCLHVCQUF1QjtnQkFDdkIz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Q0E2QztJQUNBcUQ7SUFDQWtCO0lBQ0FsQztJQUNBb0M7SUFDQStCO0lBQ0FFO0lBQ0FHO0lBQ0FySztJQUNBVTtJQUNBd0I7SUFDQVE7QUFDRixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxQcm9ncmFtIEZpbGVzXFxibG9ja2NoYWluLWQzclxcZnJvbnRlbmRcXHV0aWxzXFx3ZWIzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWIzIGZyb20gJ3dlYjMnO1xyXG5pbXBvcnQgRDNSUHJvdG9jb2xBQkkgZnJvbSAnLi4vY29udHJhY3RzL0QzUlByb3RvY29sLmpzb24nO1xyXG5pbXBvcnQgTWlsZXN0b25lRnVuZGluZ0FCSSBmcm9tICcuLi9jb250cmFjdHMvTWlsZXN0b25lRnVuZGluZy5qc29uJztcclxuaW1wb3J0IE5HT1JlZ2lzdHJ5QUJJIGZyb20gJy4uL2NvbnRyYWN0cy9OR09SZWdpc3RyeS5qc29uJztcclxuaW1wb3J0IENoYWlubGlua0Rpc2FzdGVyT3JhY2xlQUJJIGZyb20gJy4uL2NvbnRyYWN0cy9DaGFpbmxpbmtEaXNhc3Rlck9yYWNsZS5qc29uJztcclxuaW1wb3J0IElQRlNWZXJpZmllckFCSSBmcm9tICcuLi9jb250cmFjdHMvSVBGU1ZlcmlmaWVyLmpzb24nO1xyXG5pbXBvcnQgRnVuZFBvb2xBQkkgZnJvbSAnLi4vY29udHJhY3RzL0Z1bmRQb29sLmpzb24nO1xyXG5pbXBvcnQgRG9uYXRpb25UcmFja2VyQUJJIGZyb20gJy4uL2NvbnRyYWN0cy9Eb25hdGlvblRyYWNrZXIuanNvbic7XHJcblxyXG5sZXQgd2ViMztcclxubGV0IGQzclByb3RvY29sO1xyXG5sZXQgbWlsZXN0b25lRnVuZGluZztcclxubGV0IG5nb1JlZ2lzdHJ5O1xyXG5sZXQgZGlzYXN0ZXJPcmFjbGU7XHJcbmxldCBpcGZzVmVyaWZpZXI7XHJcbmxldCBmdW5kUG9vbDtcclxubGV0IGRvbmF0aW9uVHJhY2tlcjtcclxuXHJcbi8vIENvbnRyYWN0IGFkZHJlc3NlcyAtIGRlcGxveWVkIGNvbnRyYWN0IGFkZHJlc3Nlc1xyXG5jb25zdCBEM1JfUFJPVE9DT0xfQUREUkVTUyA9ICcweEIwQzA0YkY4MWMyRDY0Y0M1QWU0Q0NlYUZlNjkwNkQzOTE0NzYzMDQnO1xyXG5jb25zdCBNSUxFU1RPTkVfRlVORElOR19BRERSRVNTID0gJzB4RDA5YzBiMTY3NzEwN2UyNUI3ODI3MWRBNzAyOTU1ODBCZjhCRUE1Mic7XHJcbmNvbnN0IE5HT19SRUdJU1RSWV9BRERSRVNTID0gJzB4OGU2NzVlNUM4ZWZGMjM5OEQ3MGVlZUU2MkJkODVBQjgwODRiOEEwMSc7XHJcbmNvbnN0IERJU0FTVEVSX09SQUNMRV9BRERSRVNTID0gJzB4MTA5NDU3ZDRjODUwMTE3NGY3NzQzMzlFNEIzNzYzNWUzZjgxOEM5NCc7XHJcbmNvbnN0IElQRlNfVkVSSUZJRVJfQUREUkVTUyA9ICcweDRERjYyN0ZDRGY2MzlENmE0ZGM0MjA5MjREZjY3MDllNDA0NDkzYzQnO1xyXG5jb25zdCBGVU5EX1BPT0xfQUREUkVTUyA9ICcweDUyMTQ2ZDQ2NGU1REQzYTcwNDY5NDBiODUyMzEwMDczODVBQjMxMDUnO1xyXG5jb25zdCBET05BVElPTl9UUkFDS0VSX0FERFJFU1MgPSAnMHg5NzE1NGFDRmE2ZjVFODU0OTREMEVGZDIzMzIzNjhiMTNiMkRhOGRjJztcclxuXHJcbi8vIERpc2FzdGVyIHR5cGVzIGRlZmluZWQgaW4gdGhlIHN5c3RlbVxyXG5leHBvcnQgY29uc3QgRElTQVNURVJfVFlQRVMgPSB7XHJcbiAgRUFSVEhRVUFLRTogJ0VhcnRocXVha2UnLFxyXG4gIEhVUlJJQ0FORTogJ0h1cnJpY2FuZScsXHJcbiAgRkxPT0Q6ICdGbG9vZCcsXHJcbiAgV0lMREZJUkU6ICdXaWxkZmlyZScsXHJcbiAgRFJPVUdIVDogJ0Ryb3VnaHQnLFxyXG4gIFRTVU5BTUk6ICdUc3VuYW1pJyxcclxuICBWT0xDQU5JQ19FUlVQVElPTjogJ1ZvbGNhbmljIEVydXB0aW9uJyxcclxuICBQQU5ERU1JQzogJ1BhbmRlbWljJyxcclxuICBPVEhFUjogJ090aGVyJ1xyXG59O1xyXG5cclxuLy8gVXJnZW5jeSBsZXZlbHMgZGVmaW5lZCBpbiB0aGUgc3lzdGVtXHJcbmV4cG9ydCBjb25zdCBVUkdFTkNZX0xFVkVMUyA9IHtcclxuICAnQ3JpdGljYWwgKExldmVsIDUpJzogNSxcclxuICAnSGlnaCAoTGV2ZWwgNCknOiA0LFxyXG4gICdNZWRpdW0gKExldmVsIDMpJzogMyxcclxuICAnTG93IChMZXZlbCAyKSc6IDIsXHJcbiAgJ1JlY292ZXJ5IChMZXZlbCAxKSc6IDFcclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgV2ViMyBhbmQgY29udHJhY3QgaW5zdGFuY2VzXHJcbmV4cG9ydCBjb25zdCBpbml0V2ViMyA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgbGV0IGFjY291bnRzID0gW107XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIGEgYnJvd3NlciBhbmQgaWYgZXRoZXJldW0gaXMgaW5qZWN0ZWRcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZXRoZXJldW0pIHtcclxuICAgICAgY29uc29sZS5sb2coXCJGb3VuZCB3aW5kb3cuZXRoZXJldW0sIGF0dGVtcHRpbmcgdG8gY29ubmVjdFwiKTtcclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gUmVxdWVzdCBhY2NvdW50IGFjY2VzcyBpZiBuZWVkZWRcclxuICAgICAgICBhY2NvdW50cyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX3JlcXVlc3RBY2NvdW50cycgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJBY2NvdW50czogXCIsIGFjY291bnRzKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgV2ViMyBpbnN0YW5jZVxyXG4gICAgICAgIHdlYjMgPSBuZXcgV2ViMyh3aW5kb3cuZXRoZXJldW0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGFjY291bnQvbmV0d29yayBjaGFuZ2VzXHJcbiAgICAgICAgd2luZG93LmV0aGVyZXVtLm9uKCdhY2NvdW50c0NoYW5nZWQnLCAobmV3QWNjb3VudHMpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdhY2NvdW50c0NoYW5nZWQnLCBuZXdBY2NvdW50cyk7XHJcbiAgICAgICAgICAvLyBSZWxvYWQgdGhlIHBhZ2UgdG8gcmVzZXQgdGhlIHN0YXRlXHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgd2luZG93LmV0aGVyZXVtLm9uKCdjaGFpbkNoYW5nZWQnLCAoY2hhaW5JZCkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ2NoYWluQ2hhbmdlZCcsIGNoYWluSWQpO1xyXG4gICAgICAgICAgLy8gUmVsb2FkIHRoZSBwYWdlIHRvIHJlc2V0IHRoZSBzdGF0ZVxyXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbignZGlzY29ubmVjdCcsICgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdkaXNjb25uZWN0Jyk7XHJcbiAgICAgICAgICB3ZWIzID0gbnVsbDtcclxuICAgICAgICAgIC8vIFJlbG9hZCB0aGUgcGFnZSB0byByZXNldCB0aGUgc3RhdGVcclxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVxdWVzdGluZyBhY2NvdW50IGFjY2VzczpcIiwgZXJyb3IpO1xyXG4gICAgICAgIC8vIERvbid0IHRocm93LCBjb250aW51ZSB3aXRoIHJlYWQtb25seSBhY2Nlc3NcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cud2ViMykge1xyXG4gICAgICAvLyBMZWdhY3kgc3VwcG9ydCBmb3Igb2xkZXIgTWV0YU1hc2svV2ViMyBpbXBsZW1lbnRhdGlvbnNcclxuICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBsZWdhY3kgd2ViM1wiKTtcclxuICAgICAgd2ViMyA9IG5ldyBXZWIzKHdpbmRvdy53ZWIzLmN1cnJlbnRQcm92aWRlcik7XHJcbiAgICAgIGFjY291bnRzID0gYXdhaXQgd2ViMy5ldGguZ2V0QWNjb3VudHMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gV2ViMyB3YWxsZXQgZGV0ZWN0ZWQsIHVzaW5nIHJlYWQtb25seSBwcm92aWRlclwiKTtcclxuICAgICAgLy8gU2V0IHVwIGEgcmVhZC1vbmx5IHByb3ZpZGVyIGZvciBub24td2FsbGV0IHVzZXJzXHJcbiAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IFdlYjMucHJvdmlkZXJzLkh0dHBQcm92aWRlcihcclxuICAgICAgICBcImh0dHBzOi8vZXRoLXNlcG9saWEuZy5hbGNoZW15LmNvbS92Mi9kZW1vXCJcclxuICAgICAgKTtcclxuICAgICAgd2ViMyA9IG5ldyBXZWIzKHByb3ZpZGVyKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBjb250cmFjdCBpbnN0YW5jZXMgb25seSBpZiB3ZWIzIGlzIHNldHVwXHJcbiAgICBpZiAod2ViMykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGQzclByb3RvY29sID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KEQzUlByb3RvY29sQUJJLmFiaSwgRDNSX1BST1RPQ09MX0FERFJFU1MpO1xyXG4gICAgICAgIG1pbGVzdG9uZUZ1bmRpbmcgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoTWlsZXN0b25lRnVuZGluZ0FCSS5hYmksIE1JTEVTVE9ORV9GVU5ESU5HX0FERFJFU1MpO1xyXG4gICAgICAgIG5nb1JlZ2lzdHJ5ID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KE5HT1JlZ2lzdHJ5QUJJLmFiaSwgTkdPX1JFR0lTVFJZX0FERFJFU1MpO1xyXG4gICAgICAgIGRpc2FzdGVyT3JhY2xlID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KENoYWlubGlua0Rpc2FzdGVyT3JhY2xlQUJJLmFiaSwgRElTQVNURVJfT1JBQ0xFX0FERFJFU1MpO1xyXG4gICAgICAgIGlwZnNWZXJpZmllciA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChJUEZTVmVyaWZpZXJBQkkuYWJpLCBJUEZTX1ZFUklGSUVSX0FERFJFU1MpO1xyXG4gICAgICAgIGZ1bmRQb29sID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KEZ1bmRQb29sQUJJLmFiaSwgRlVORF9QT09MX0FERFJFU1MpO1xyXG4gICAgICAgIGRvbmF0aW9uVHJhY2tlciA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChEb25hdGlvblRyYWNrZXJBQkkuYWJpLCBET05BVElPTl9UUkFDS0VSX0FERFJFU1MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHdpbmRvdy53ZWIzID0gd2ViMzsgLy8gTWFrZSB3ZWIzIGF2YWlsYWJsZSBnbG9iYWxseSBmb3IgdXRpbGl0eSBmdW5jdGlvbnNcclxuICAgICAgfSBjYXRjaCAoY29udHJhY3RFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgY29udHJhY3RzOlwiLCBjb250cmFjdEVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4geyB3ZWIzLCBhY2NvdW50cyB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHdlYjM6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHdlYjM6IG51bGwsIGFjY291bnRzOiBbXSB9O1xyXG4gIH1cclxufTtcclxuXHJcbi8vIENoZWNrIGNvbm5lY3Rpb24gc3RhdHVzXHJcbmV4cG9ydCBjb25zdCBjaGVja1dlYjNDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHdlYjMsIGFjY291bnRzIH0gPSBhd2FpdCBpbml0V2ViMygpO1xyXG4gICAgXHJcbiAgICBpZiAoIXdlYjMpIHtcclxuICAgICAgcmV0dXJuICdXZWIzIG5vdCBhdmFpbGFibGUnO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIWFjY291bnRzIHx8IGFjY291bnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gJ05vdCBjb25uZWN0ZWQgdG8gd2FsbGV0JztcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgbmV0d29ya0lkID0gYXdhaXQgd2ViMy5ldGgubmV0LmdldElkKCk7XHJcbiAgICBjb25zdCBuZXR3b3JrVHlwZSA9IGF3YWl0IHdlYjMuZXRoLm5ldC5nZXROZXR3b3JrVHlwZSgpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gYENvbm5lY3RlZCB0byAke2FjY291bnRzWzBdfSBvbiAke25ldHdvcmtUeXBlfSAoJHtuZXR3b3JrSWR9KWA7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJDb25uZWN0aW9uIGNoZWNrIGZhaWxlZDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGBDb25uZWN0aW9uIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YDtcclxuICB9XHJcbn07XHJcblxyXG4vLyBDb25uZWN0IHdhbGxldCBleHBsaWNpdGx5IChmb3IgY29ubmVjdCBidXR0b24pXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0V2FsbGV0ID0gYXN5bmMgKCkgPT4ge1xyXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZXRoZXJldW0pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFJlcXVlc3QgYWNjb3VudCBhY2Nlc3NcclxuICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IFxyXG4gICAgICAgIG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlaW5pdGlhbGl6ZSB3ZWIzXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluaXRXZWIzKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiB3ZSdyZSBvbiB0aGUgcmlnaHQgbmV0d29ya1xyXG4gICAgICBjb25zdCBuZXR3b3JrSWQgPSBhd2FpdCB3ZWIzLmV0aC5uZXQuZ2V0SWQoKTtcclxuICAgICAgY29uc3QgZXhwZWN0ZWROZXR3b3JrID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTkVUV09SS19JRCB8fCAnMSc7XHJcbiAgICAgIFxyXG4gICAgICBpZiAobmV0d29ya0lkLnRvU3RyaW5nKCkgIT09IGV4cGVjdGVkTmV0d29yaykge1xyXG4gICAgICAgIGNvbnN0IG5ldHdvcmtOYW1lID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTkVUV09SS19OQU1FIHx8ICdFdGhlcmV1bSBNYWlubmV0JztcclxuICAgICAgICBcclxuICAgICAgICAvLyBQcm9tcHQgdXNlciB0byBzd2l0Y2ggbmV0d29ya3NcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICBtZXRob2Q6ICd3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpbicsXHJcbiAgICAgICAgICAgIHBhcmFtczogW3sgY2hhaW5JZDogYDB4JHtwYXJzZUludChleHBlY3RlZE5ldHdvcmspLnRvU3RyaW5nKDE2KX1gIH1dLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoc3dpdGNoRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc3dpdGNoIG5ldHdvcmtzOlwiLCBzd2l0Y2hFcnJvcik7XHJcbiAgICAgICAgICByZXR1cm4geyBcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICAgICAgICBlcnJvcjogYFBsZWFzZSBzd2l0Y2ggdG8gJHtuZXR3b3JrTmFtZX0gaW4geW91ciB3YWxsZXRgIFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7IFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxyXG4gICAgICAgIGFkZHJlc3M6IGFjY291bnRzWzBdLFxyXG4gICAgICAgIG5ldHdvcmtJZFxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjb25uZWN0IHdhbGxldDpcIiwgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gY29ubmVjdCB3YWxsZXRcIiBcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHsgXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgZXJyb3I6IFwiTm8gRXRoZXJldW0gd2FsbGV0IGRldGVjdGVkLiBQbGVhc2UgaW5zdGFsbCBNZXRhTWFzay5cIiBcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gR2V0IGFsbCBhY3RpdmUgcmVsaWVmIGNhbXBhaWducyB3aXRoIHZlcmlmaWNhdGlvbiBzdGF0dXNcclxuZXhwb3J0IGNvbnN0IGdldFJlbGllZkNhbXBhaWducyA9IGFzeW5jIChmaWx0ZXJzID0ge30pID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgaW5pdFdlYjMoKTtcclxuICAgIFxyXG4gICAgLy8gR2V0IHByb2plY3QgY291bnRcclxuICAgIGNvbnN0IHByb2plY3RDb3VudCA9IGF3YWl0IG1pbGVzdG9uZUZ1bmRpbmcubWV0aG9kcy5wcm9qZWN0Q291bnQoKS5jYWxsKCk7XHJcbiAgICBjb25zdCBjYW1wYWlnbnMgPSBbXTtcclxuICAgIFxyXG4gICAgLy8gTG9hZCBhbGwgcHJvamVjdHNcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdENvdW50OyBpKyspIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwcm9qZWN0RGV0YWlscyA9IGF3YWl0IG1pbGVzdG9uZUZ1bmRpbmcubWV0aG9kcy5nZXRQcm9qZWN0RGV0YWlscyhpKS5jYWxsKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gT25seSBpbmNsdWRlIGFjdGl2ZSBwcm9qZWN0c1xyXG4gICAgICAgIGlmIChwcm9qZWN0RGV0YWlscy5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgLy8gVHJ5IHRvIGdldCBtZXRhZGF0YSBhYm91dCB0aGUgZGlzYXN0ZXIgKGNvdWxkIGJlIHN0b3JlZCBpbiBJUEZTIG9yIGFzIGV2ZW50cylcclxuICAgICAgICAgIGxldCBtZXRhZGF0YSA9IHt9O1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gSW4gYSBwcm9kdWN0aW9uIGVudmlyb25tZW50LCB3ZSB3b3VsZCBmZXRjaCBtZXRhZGF0YSBmcm9tIElQRlMgb3IgYmxvY2tjaGFpbiBldmVudHNcclxuICAgICAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwgdXNlIHBsYWNlaG9sZGVyIGRhdGFcclxuICAgICAgICAgICAgY29uc3QgZGlzYXN0ZXJUeXBlID0gZ2V0UmFuZG9tRGlzYXN0ZXJUeXBlKGkpO1xyXG4gICAgICAgICAgICBjb25zdCBkaXNhc3RlcklkID0gYERTLSR7MjAyM30tJHsxMDAwICsgaX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbWV0YWRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgZGlzYXN0ZXJUeXBlOiBkaXNhc3RlclR5cGUsXHJcbiAgICAgICAgICAgICAgbG9jYXRpb246IGdldExvY2F0aW9uRm9yRGlzYXN0ZXJUeXBlKGRpc2FzdGVyVHlwZSksXHJcbiAgICAgICAgICAgICAgZGlzYXN0ZXJJZDogZGlzYXN0ZXJJZCxcclxuICAgICAgICAgICAgICB1cmdlbmN5TGV2ZWw6IGdldFVyZ2VuY3lGb3JEaXNhc3RlclR5cGUoZGlzYXN0ZXJUeXBlKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGdldCB2ZXJpZmljYXRpb24gZnJvbSB0aGUgT3JhY2xlIGNvbnRyYWN0XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgdmVyaWZpY2F0aW9uID0gYXdhaXQgZGlzYXN0ZXJPcmFjbGUubWV0aG9kcy5nZXREaXNhc3RlclZlcmlmaWNhdGlvbihkaXNhc3RlcklkKS5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgbWV0YWRhdGEudmVyaWZpZWQgPSB2ZXJpZmljYXRpb24udmVyaWZpZWQ7XHJcbiAgICAgICAgICAgICAgbWV0YWRhdGEuY29uZmlkZW5jZSA9IHZlcmlmaWNhdGlvbi5jb25maWRlbmNlO1xyXG4gICAgICAgICAgICAgIG1ldGFkYXRhLnNvdXJjZSA9IHZlcmlmaWNhdGlvbi5zb3VyY2UgfHwgXCJDaGFpbmxpbmsgT3JhY2xlc1wiO1xyXG4gICAgICAgICAgICB9IGNhdGNoICh2ZXJpZmljYXRpb25FcnJvcikge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb3VsZCBub3QgZ2V0IHZlcmlmaWNhdGlvbiBmb3IgZGlzYXN0ZXIgJHtkaXNhc3RlcklkfWAsIHZlcmlmaWNhdGlvbkVycm9yKTtcclxuICAgICAgICAgICAgICBtZXRhZGF0YS52ZXJpZmllZCA9IGkgJSAzID09PSAwOyAvLyBGb3IgdGVzdGluZzogbWFrZSBldmVyeSB0aGlyZCBwcm9qZWN0IHZlcmlmaWVkXHJcbiAgICAgICAgICAgICAgbWV0YWRhdGEuY29uZmlkZW5jZSA9IG1ldGFkYXRhLnZlcmlmaWVkID8gODUgOiAwO1xyXG4gICAgICAgICAgICAgIG1ldGFkYXRhLnNvdXJjZSA9IG1ldGFkYXRhLnZlcmlmaWVkID8gXCJDaGFpbmxpbmsgV2VhdGhlciBEYXRhXCIgOiBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChtZXRhZGF0YUVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIG1ldGFkYXRhIGZvciBwcm9qZWN0ICR7aX06YCwgbWV0YWRhdGFFcnJvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEFwcGx5IGZpbHRlcnMgaWYgcHJvdmlkZWRcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgKGZpbHRlcnMuZGlzYXN0ZXJUeXBlICYmIG1ldGFkYXRhLmRpc2FzdGVyVHlwZSAhPT0gZmlsdGVycy5kaXNhc3RlclR5cGUpIHx8XHJcbiAgICAgICAgICAgIChmaWx0ZXJzLmxvY2F0aW9uICYmICFtZXRhZGF0YS5sb2NhdGlvbj8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXJzLmxvY2F0aW9uLnRvTG93ZXJDYXNlKCkpKSB8fFxyXG4gICAgICAgICAgICAoZmlsdGVycy51cmdlbmN5ID4gMCAmJiBtZXRhZGF0YS51cmdlbmN5TGV2ZWwgIT09IHBhcnNlSW50KGZpbHRlcnMudXJnZW5jeSkpXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBjYW1wYWlnbiBpZiBpdCBkb2Vzbid0IG1hdGNoIGZpbHRlcnNcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gR2V0IG1pbGVzdG9uZSBpbmZvcm1hdGlvblxyXG4gICAgICAgICAgY29uc3QgbWlsZXN0b25lcyA9IFtdO1xyXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwcm9qZWN0RGV0YWlscy5taWxlc3RvbmVDb3VudDsgaisrKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgbWlsZXN0b25lID0gYXdhaXQgbWlsZXN0b25lRnVuZGluZy5tZXRob2RzLmdldE1pbGVzdG9uZURldGFpbHMoaSwgaikuY2FsbCgpO1xyXG4gICAgICAgICAgICAgIG1pbGVzdG9uZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAuLi5taWxlc3RvbmUsXHJcbiAgICAgICAgICAgICAgICBpZDogalxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChtaWxlc3RvbmVFcnJvcikge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIG1pbGVzdG9uZSAke2p9IGZvciBwcm9qZWN0ICR7aX06YCwgbWlsZXN0b25lRXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEdldCBOR08gZGV0YWlsc1xyXG4gICAgICAgICAgbGV0IG5nb0RldGFpbHMgPSB7IG5hbWU6IFwiVW5rbm93biBOR09cIiB9O1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbmdvRGV0YWlscyA9IGF3YWl0IG5nb1JlZ2lzdHJ5Lm1ldGhvZHMuZ2V0TkdPRGV0YWlscyhwcm9qZWN0RGV0YWlscy5uZ29BZGRyZXNzKS5jYWxsKCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChuZ29FcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyBOR08gZGV0YWlscyBmb3IgYWRkcmVzcyAke3Byb2plY3REZXRhaWxzLm5nb0FkZHJlc3N9OmAsIG5nb0Vycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQWRkIGNhbXBhaWduIHRvIHRoZSBsaXN0XHJcbiAgICAgICAgICBjYW1wYWlnbnMucHVzaCh7XHJcbiAgICAgICAgICAgIGlkOiBpLFxyXG4gICAgICAgICAgICB0aXRsZTogcHJvamVjdERldGFpbHMubmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb2plY3REZXRhaWxzLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBjcmVhdG9yOiBwcm9qZWN0RGV0YWlscy5uZ29BZGRyZXNzLFxyXG4gICAgICAgICAgICBuZ29OYW1lOiBuZ29EZXRhaWxzLm5hbWUgfHwgXCJVbmtub3duIE5HT1wiLFxyXG4gICAgICAgICAgICBjdXJyZW50QW1vdW50OiBwcm9qZWN0RGV0YWlscy5yZWxlYXNlZEZ1bmRpbmcsXHJcbiAgICAgICAgICAgIHRhcmdldEFtb3VudDogcHJvamVjdERldGFpbHMudG90YWxGdW5kaW5nLFxyXG4gICAgICAgICAgICBtaWxlc3RvbmVzQ29tcGxldGVkOiBwYXJzZUludChwcm9qZWN0RGV0YWlscy5taWxlc3RvbmVzQ29tcGxldGVkKSxcclxuICAgICAgICAgICAgbWlsZXN0b25lQ291bnQ6IHBhcnNlSW50KHByb2plY3REZXRhaWxzLm1pbGVzdG9uZUNvdW50KSxcclxuICAgICAgICAgICAgbWlsZXN0b25lczogbWlsZXN0b25lcyxcclxuICAgICAgICAgICAgaXNBY3RpdmU6IHByb2plY3REZXRhaWxzLmlzQWN0aXZlLFxyXG4gICAgICAgICAgICBkZWFkbGluZTogY2FsY3VsYXRlRGVhZGxpbmUoaSksXHJcbiAgICAgICAgICAgIHBhcnNlZE1ldGFkYXRhOiBtZXRhZGF0YVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChwcm9qZWN0RXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIHByb2plY3QgJHtpfTpgLCBwcm9qZWN0RXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBjYW1wYWlnbnM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlbGllZiBjYW1wYWlnbnM6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIERvbmF0ZSB0byBhIHJlbGllZiBjYW1wYWlnblxyXG5leHBvcnQgY29uc3QgZG9uYXRlID0gYXN5bmMgKGNhbXBhaWduSWQsIGFtb3VudCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHdlYjMsIGFjY291bnRzIH0gPSBhd2FpdCBpbml0V2ViMygpO1xyXG4gICAgaWYgKCFhY2NvdW50cyB8fCBhY2NvdW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY29ubmVjdGVkIHdhbGxldCBhY2NvdW50c1wiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgYW1vdW50V2VpID0gd2ViMy51dGlscy50b1dlaShhbW91bnQudG9TdHJpbmcoKSwgJ2V0aGVyJyk7XHJcbiAgICBcclxuICAgIC8vIEdldCB0aGUgcHJvamVjdCBkZXRhaWxzIHRvIGNoZWNrIGlmIGl0J3MgYWN0aXZlXHJcbiAgICBjb25zdCBwcm9qZWN0RGV0YWlscyA9IGF3YWl0IG1pbGVzdG9uZUZ1bmRpbmcubWV0aG9kcy5nZXRQcm9qZWN0RGV0YWlscyhjYW1wYWlnbklkKS5jYWxsKCk7XHJcbiAgICBpZiAoIXByb2plY3REZXRhaWxzLmlzQWN0aXZlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgcmVsaWVmIHByb2plY3QgaXMgbm8gbG9uZ2VyIGFjdGl2ZVwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVGhlcmUncyBubyBkaXJlY3QgZG9uYXRpb24gbWV0aG9kIGluIE1pbGVzdG9uZUZ1bmRpbmcgaW4gdGhlIGNvbnRyYWN0IGNvZGVcclxuICAgIC8vIFdlJ2xsIHVzZSBEM1JQcm90b2NvbCB0byBoYW5kbGUgdGhlIGRvbmF0aW9uXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBUcnkgdG8gZG9uYXRlIHZpYSB0aGUgbWFpbiBwcm90b2NvbCBjb250cmFjdFxyXG4gICAgICBhd2FpdCBkM3JQcm90b2NvbC5tZXRob2RzLmRvbmF0ZVRvUHJvamVjdChjYW1wYWlnbklkKS5zZW5kKHtcclxuICAgICAgICBmcm9tOiBhY2NvdW50c1swXSxcclxuICAgICAgICB2YWx1ZTogYW1vdW50V2VpXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAocHJvdG9jb2xFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRDNSUHJvdG9jb2wgZG9uYXRpb24gZmFpbGVkLCB0cnlpbmcgZGlyZWN0IHRyYW5zYWN0aW9uOlwiLCBwcm90b2NvbEVycm9yKTtcclxuICAgICAgXHJcbiAgICAgIC8vIElmIHRoZSBwcm90b2NvbCBkb2Vzbid0IGhhdmUgYSBkb25hdGVUb1Byb2plY3QgbWV0aG9kLCB0cnkgYSBkaXJlY3QgdHJhbnNhY3Rpb25cclxuICAgICAgYXdhaXQgd2ViMy5ldGguc2VuZFRyYW5zYWN0aW9uKHtcclxuICAgICAgICBmcm9tOiBhY2NvdW50c1swXSxcclxuICAgICAgICB0bzogTUlMRVNUT05FX0ZVTkRJTkdfQUREUkVTUyxcclxuICAgICAgICB2YWx1ZTogYW1vdW50V2VpLFxyXG4gICAgICAgIGRhdGE6IHdlYjMuZXRoLmFiaS5lbmNvZGVGdW5jdGlvbkNhbGwoe1xyXG4gICAgICAgICAgbmFtZTogJ2FkZEZ1bmRzVG9Qcm9qZWN0JywgLy8gVGhpcyBmdW5jdGlvbiBuYW1lIGRlcGVuZHMgb24geW91ciBhY3R1YWwgY29udHJhY3QgaW1wbGVtZW50YXRpb25cclxuICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXHJcbiAgICAgICAgICBpbnB1dHM6IFt7IHR5cGU6ICd1aW50MjU2JywgbmFtZTogJ3Byb2plY3RJZCcgfV1cclxuICAgICAgICB9LCBbY2FtcGFpZ25JZF0pXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRvbmF0aW5nIHRvIGNhbXBhaWduOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgdmVyaWZpY2F0aW9uIHN0YXR1cyBvZiBhIHJlbGllZiBjYW1wYWlnblxyXG5leHBvcnQgY29uc3QgZ2V0VmVyaWZpY2F0aW9uU3RhdHVzID0gYXN5bmMgKGRpc2FzdGVySWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgaW5pdFdlYjMoKTtcclxuICAgIGNvbnN0IHZlcmlmaWNhdGlvbiA9IGF3YWl0IGRpc2FzdGVyT3JhY2xlLm1ldGhvZHMuZ2V0RGlzYXN0ZXJWZXJpZmljYXRpb24oZGlzYXN0ZXJJZCkuY2FsbCgpO1xyXG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbjtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgdmVyaWZpY2F0aW9uIHN0YXR1czpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdmVyaWZpZWQ6IGZhbHNlLFxyXG4gICAgICBjb25maWRlbmNlOiAwLFxyXG4gICAgICBzb3VyY2U6IFwiRXJyb3IgcmV0cmlldmluZyBkYXRhXCIsXHJcbiAgICAgIHRpbWVzdGFtcDogMFxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgTkdPIGRldGFpbHNcclxuZXhwb3J0IGNvbnN0IGdldE5HT0RldGFpbHMgPSBhc3luYyAobmdvQWRkcmVzcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBpbml0V2ViMygpO1xyXG4gICAgY29uc3QgbmdvRGV0YWlscyA9IGF3YWl0IG5nb1JlZ2lzdHJ5Lm1ldGhvZHMuZ2V0TkdPRGV0YWlscyhuZ29BZGRyZXNzKS5jYWxsKCk7XHJcbiAgICByZXR1cm4gbmdvRGV0YWlscztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgTkdPIGRldGFpbHM6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEdldCBkYXNoYm9hcmQgc3RhdHNcclxuZXhwb3J0IGNvbnN0IGdldERhc2hib2FyZFN0YXRzID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHdlYjMgfSA9IGF3YWl0IGluaXRXZWIzKCk7XHJcbiAgICBcclxuICAgIC8vIEdldCBOR08gY291bnRcclxuICAgIGxldCB2ZXJpZmllZE5HT3NDb3VudCA9IDA7XHJcbiAgICB0cnkge1xyXG4gICAgICB2ZXJpZmllZE5HT3NDb3VudCA9IGF3YWl0IG5nb1JlZ2lzdHJ5Lm1ldGhvZHMuZ2V0VmVyaWZpZWROR09zQ291bnQoKS5jYWxsKCk7XHJcbiAgICB9IGNhdGNoIChuZ29FcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB2ZXJpZmllZCBOR08gY291bnQ6XCIsIG5nb0Vycm9yKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gR2V0IHByb2plY3QgY291bnQgYW5kIGNhbGN1bGF0ZSB0b3RhbCBmdW5kaW5nIGFuZCBwZW9wbGUgaGVscGVkXHJcbiAgICBsZXQgcHJvamVjdENvdW50ID0gMDtcclxuICAgIHRyeSB7XHJcbiAgICAgIHByb2plY3RDb3VudCA9IGF3YWl0IG1pbGVzdG9uZUZ1bmRpbmcubWV0aG9kcy5wcm9qZWN0Q291bnQoKS5jYWxsKCk7XHJcbiAgICB9IGNhdGNoIChwcm9qZWN0RXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgcHJvamVjdCBjb3VudDpcIiwgcHJvamVjdEVycm9yKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU2FmZWx5IGNyZWF0ZSBhIEJpZ051bWJlciAoaWYgd2ViMy51dGlscy50b0JOIGlzbid0IGF2YWlsYWJsZSwgdXNlIHN0YW5kYXJkIHN0cmluZyBoYW5kbGluZylcclxuICAgIGxldCB0b3RhbERvbmF0aW9ucyA9IFwiMFwiO1xyXG4gICAgbGV0IHRvdGFsRG9uYXRpb25zQk47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ2hlY2sgaWYgd2ViMy51dGlscyBoYXMgdGhlIHRvQk4gZnVuY3Rpb25cclxuICAgICAgaWYgKHdlYjMgJiYgd2ViMy51dGlscyAmJiB0eXBlb2Ygd2ViMy51dGlscy50b0JOID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdG90YWxEb25hdGlvbnNCTiA9IHdlYjMudXRpbHMudG9CTihcIjBcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gc3RyaW5nLWJhc2VkIGhhbmRsaW5nXHJcbiAgICAgICAgdG90YWxEb25hdGlvbnMgPSBcIjBcIjtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdpdGggQmlnTnVtYmVyIGhhbmRsaW5nOlwiLCBlcnJvcik7XHJcbiAgICAgIHRvdGFsRG9uYXRpb25zID0gXCIwXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGxldCBhY3RpdmVDYW1wYWlnbnMgPSAwO1xyXG4gICAgbGV0IHRvdGFsUGVvcGxlSGVscGVkID0gMDtcclxuICAgIFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0Q291bnQ7IGkrKykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHByb2plY3REZXRhaWxzID0gYXdhaXQgbWlsZXN0b25lRnVuZGluZy5tZXRob2RzLmdldFByb2plY3REZXRhaWxzKGkpLmNhbGwoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBIYW5kbGUgdGhlIHRvdGFsIGRvbmF0aW9ucyBhbW91bnQgc2FmZWx5XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlmICh0b3RhbERvbmF0aW9uc0JOKSB7XHJcbiAgICAgICAgICAgIC8vIFVzZSBCTiBhZGRpdGlvbiBpZiBhdmFpbGFibGVcclxuICAgICAgICAgICAgdG90YWxEb25hdGlvbnNCTiA9IHRvdGFsRG9uYXRpb25zQk4uYWRkKHdlYjMudXRpbHMudG9CTihwcm9qZWN0RGV0YWlscy50b3RhbEZ1bmRpbmcpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHNpbXBsZSBzdHJpbmcvbnVtYmVyIGhhbmRsaW5nXHJcbiAgICAgICAgICAgIGNvbnN0IGZ1bmRpbmdJbkV0aGVyID0gd2ViMyAmJiB3ZWIzLnV0aWxzIFxyXG4gICAgICAgICAgICAgID8gd2ViMy51dGlscy5mcm9tV2VpKHByb2plY3REZXRhaWxzLnRvdGFsRnVuZGluZywgJ2V0aGVyJylcclxuICAgICAgICAgICAgICA6IHBhcnNlRmxvYXQocHJvamVjdERldGFpbHMudG90YWxGdW5kaW5nKSAvIDFlMTg7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0b3RhbERvbmF0aW9ucyA9IChwYXJzZUZsb2F0KHRvdGFsRG9uYXRpb25zKSArIHBhcnNlRmxvYXQoZnVuZGluZ0luRXRoZXIpKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGJuRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhZGRpbmcgdG8gZG9uYXRpb24gdG90YWw6XCIsIGJuRXJyb3IpO1xyXG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gc2ltcGxlIGFkZGl0aW9uXHJcbiAgICAgICAgICB0b3RhbERvbmF0aW9ucyA9IChwYXJzZUZsb2F0KHRvdGFsRG9uYXRpb25zKSArIHBhcnNlRmxvYXQocHJvamVjdERldGFpbHMudG90YWxGdW5kaW5nKSAvIDFlMTgpLnRvRml4ZWQoNCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChwcm9qZWN0RGV0YWlscy5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgYWN0aXZlQ2FtcGFpZ25zKys7XHJcbiAgICAgICAgICAvLyBJbiBhIHJlYWwgc2NlbmFyaW8sIHlvdSdkIGhhdmUgYSB3YXkgdG8gdHJhY2sgcGVvcGxlIGhlbHBlZCBwZXIgcHJvamVjdFxyXG4gICAgICAgICAgLy8gRm9yIG5vdywgdXNlIGEgZm9ybXVsYSBiYXNlZCBvbiBwcm9qZWN0IGZ1bmRpbmcgYW5kIG1pbGVzdG9uZXNcclxuICAgICAgICAgIGNvbnN0IHRvdGFsRnVuZGluZ0V0aCA9IHdlYjMgJiYgd2ViMy51dGlsc1xyXG4gICAgICAgICAgICA/IHBhcnNlRmxvYXQod2ViMy51dGlscy5mcm9tV2VpKHByb2plY3REZXRhaWxzLnRvdGFsRnVuZGluZywgJ2V0aGVyJykpXHJcbiAgICAgICAgICAgIDogcGFyc2VGbG9hdChwcm9qZWN0RGV0YWlscy50b3RhbEZ1bmRpbmcpIC8gMWUxODtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBwZW9wbGVIZWxwZWRFc3RpbWF0ZSA9IE1hdGguZmxvb3IodG90YWxGdW5kaW5nRXRoICogMTUwKTtcclxuICAgICAgICAgIHRvdGFsUGVvcGxlSGVscGVkICs9IHBlb3BsZUhlbHBlZEVzdGltYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZXR0aW5nIGRldGFpbHMgZm9yIHByb2plY3QgJHtpfTpgLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRm9ybWF0IHRoZSBmaW5hbCB0b3RhbERvbmF0aW9ucyB2YWx1ZVxyXG4gICAgbGV0IGZvcm1hdHRlZERvbmF0aW9ucztcclxuICAgIFxyXG4gICAgaWYgKHRvdGFsRG9uYXRpb25zQk4pIHtcclxuICAgICAgZm9ybWF0dGVkRG9uYXRpb25zID0gd2ViMy51dGlscy5mcm9tV2VpKHRvdGFsRG9uYXRpb25zQk4sICdldGhlcicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gSWYgd2UndmUgYmVlbiB0cmFja2luZyBpbiBldGhlciBhbHJlYWR5LCB1c2UgdGhhdCB2YWx1ZVxyXG4gICAgICBmb3JtYXR0ZWREb25hdGlvbnMgPSB0b3RhbERvbmF0aW9ucztcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxEb25hdGlvbnM6IGZvcm1hdHRlZERvbmF0aW9ucyxcclxuICAgICAgYWN0aXZlQ2FtcGFpZ25zLFxyXG4gICAgICBwZW9wbGVIZWxwZWQ6IHRvdGFsUGVvcGxlSGVscGVkLFxyXG4gICAgICB2ZXJpZmllZE5HT3M6IHBhcnNlSW50KHZlcmlmaWVkTkdPc0NvdW50KVxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgZGFzaGJvYXJkIHN0YXRzOlwiLCBlcnJvcik7XHJcbiAgICAvLyBSZXR1cm4gZHVtbXkgZGF0YSBhcyBmYWxsYmFja1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxEb25hdGlvbnM6IFwiMFwiLFxyXG4gICAgICBhY3RpdmVDYW1wYWlnbnM6IDAsXHJcbiAgICAgIHBlb3BsZUhlbHBlZDogMCxcclxuICAgICAgdmVyaWZpZWROR09zOiAwXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGdlbmVyYXRpbmcgdGVzdCBkYXRhXHJcbmZ1bmN0aW9uIGdldFJhbmRvbURpc2FzdGVyVHlwZShzZWVkKSB7XHJcbiAgY29uc3QgdHlwZXMgPSBPYmplY3QudmFsdWVzKERJU0FTVEVSX1RZUEVTKTtcclxuICByZXR1cm4gdHlwZXNbc2VlZCAlIHR5cGVzLmxlbmd0aF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExvY2F0aW9uRm9yRGlzYXN0ZXJUeXBlKGRpc2FzdGVyVHlwZSkge1xyXG4gIGNvbnN0IGxvY2F0aW9ucyA9IHtcclxuICAgIFtESVNBU1RFUl9UWVBFUy5FQVJUSFFVQUtFXTogXCJQb3J0LWF1LVByaW5jZSwgSGFpdGlcIixcclxuICAgIFtESVNBU1RFUl9UWVBFUy5IVVJSSUNBTkVdOiBcIk5ldyBPcmxlYW5zLCBVU0FcIixcclxuICAgIFtESVNBU1RFUl9UWVBFUy5GTE9PRF06IFwiS2VyYWxhLCBJbmRpYVwiLFxyXG4gICAgW0RJU0FTVEVSX1RZUEVTLldJTERGSVJFXTogXCJDYWxpZm9ybmlhLCBVU0FcIixcclxuICAgIFtESVNBU1RFUl9UWVBFUy5EUk9VR0hUXTogXCJOYWlyb2JpLCBLZW55YVwiLFxyXG4gICAgW0RJU0FTVEVSX1RZUEVTLlRTVU5BTUldOiBcIlBodWtldCwgVGhhaWxhbmRcIixcclxuICAgIFtESVNBU1RFUl9UWVBFUy5WT0xDQU5JQ19FUlVQVElPTl06IFwiQmFsaSwgSW5kb25lc2lhXCIsXHJcbiAgICBbRElTQVNURVJfVFlQRVMuUEFOREVNSUNdOiBcIkdsb2JhbCBSZXNwb25zZVwiLFxyXG4gICAgW0RJU0FTVEVSX1RZUEVTLk9USEVSXTogXCJNdWx0aXBsZSBSZWdpb25zXCJcclxuICB9O1xyXG4gIFxyXG4gIHJldHVybiBsb2NhdGlvbnNbZGlzYXN0ZXJUeXBlXSB8fCBcIlVua25vd24gTG9jYXRpb25cIjtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VXJnZW5jeUZvckRpc2FzdGVyVHlwZShkaXNhc3RlclR5cGUpIHtcclxuICBjb25zdCB1cmdlbmNpZXMgPSB7XHJcbiAgICBbRElTQVNURVJfVFlQRVMuRUFSVEhRVUFLRV06IDUsXHJcbiAgICBbRElTQVNURVJfVFlQRVMuSFVSUklDQU5FXTogNCxcclxuICAgIFtESVNBU1RFUl9UWVBFUy5GTE9PRF06IDQsXHJcbiAgICBbRElTQVNURVJfVFlQRVMuV0lMREZJUkVdOiAzLFxyXG4gICAgW0RJU0FTVEVSX1RZUEVTLkRST1VHSFRdOiAyLFxyXG4gICAgW0RJU0FTVEVSX1RZUEVTLlRTVU5BTUldOiA1LFxyXG4gICAgW0RJU0FTVEVSX1RZUEVTLlZPTENBTklDX0VSVVBUSU9OXTogMyxcclxuICAgIFtESVNBU1RFUl9UWVBFUy5QQU5ERU1JQ106IDQsXHJcbiAgICBbRElTQVNURVJfVFlQRVMuT1RIRVJdOiAzXHJcbiAgfTtcclxuICBcclxuICByZXR1cm4gdXJnZW5jaWVzW2Rpc2FzdGVyVHlwZV0gfHwgMztcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlRGVhZGxpbmUocHJvamVjdElkKSB7XHJcbiAgLy8gQ3JlYXRlIGRldGVybWluaXN0aWMgYnV0IHZhcmllZCBkZWFkbGluZXNcclxuICBjb25zdCBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcclxuICBjb25zdCBkYXlzRnJvbU5vdyA9IDEwICsgKHByb2plY3RJZCAqIDUpICUgNjA7IC8vIEJldHdlZW4gMTAgYW5kIDcwIGRheXNcclxuICByZXR1cm4gbm93ICsgKGRheXNGcm9tTm93ICogMjQgKiA2MCAqIDYwKTtcclxufVxyXG5cclxuLy8gQ2hlY2sgaWYgYW4gTkdPIGlzIHZlcmlmaWVkXHJcbmV4cG9ydCBjb25zdCBpc05HT1ZlcmlmaWVkID0gYXN5bmMgKG5nb0FkZHJlc3MpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgaW5pdFdlYjMoKTtcclxuICAgIGNvbnN0IGlzVmVyaWZpZWQgPSBhd2FpdCBuZ29SZWdpc3RyeS5tZXRob2RzLmlzVmVyaWZpZWQobmdvQWRkcmVzcykuY2FsbCgpO1xyXG4gICAgcmV0dXJuIGlzVmVyaWZpZWQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjaGVja2luZyBpZiBOR08gaXMgdmVyaWZpZWQ6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBWZXJpZnkgZG9jdW1lbnQgb24gSVBGU1xyXG5leHBvcnQgY29uc3QgdmVyaWZ5SVBGU0RvY3VtZW50ID0gYXN5bmMgKGNpZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGFjY291bnRzIH0gPSBhd2FpdCBpbml0V2ViMygpO1xyXG4gICAgYXdhaXQgaXBmc1ZlcmlmaWVyLm1ldGhvZHMudmVyaWZ5RG9jdW1lbnQoY2lkKS5zZW5kKHsgZnJvbTogYWNjb3VudHNbMF0gfSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHZlcmlmeWluZyBJUEZTIGRvY3VtZW50OlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgY29udHJhY3QgYWRkcmVzc2VzIGZvciBmcm9udGVuZCBkaXNwbGF5XHJcbmV4cG9ydCBjb25zdCBnZXRDb250cmFjdEFkZHJlc3NlcyA9ICgpID0+IHtcclxuICByZXR1cm4ge1xyXG4gICAgZDNyUHJvdG9jb2w6IEQzUl9QUk9UT0NPTF9BRERSRVNTLFxyXG4gICAgbWlsZXN0b25lRnVuZGluZzogTUlMRVNUT05FX0ZVTkRJTkdfQUREUkVTUyxcclxuICAgIG5nb1JlZ2lzdHJ5OiBOR09fUkVHSVNUUllfQUREUkVTUyxcclxuICAgIGRpc2FzdGVyT3JhY2xlOiBESVNBU1RFUl9PUkFDTEVfQUREUkVTUyxcclxuICAgIGlwZnNWZXJpZmllcjogSVBGU19WRVJJRklFUl9BRERSRVNTLFxyXG4gICAgZnVuZFBvb2w6IEZVTkRfUE9PTF9BRERSRVNTLFxyXG4gICAgZG9uYXRpb25UcmFja2VyOiBET05BVElPTl9UUkFDS0VSX0FERFJFU1NcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGluaXRXZWIzLFxyXG4gIGdldFJlbGllZkNhbXBhaWducyxcclxuICBkb25hdGUsXHJcbiAgZ2V0VmVyaWZpY2F0aW9uU3RhdHVzLFxyXG4gIGdldE5HT0RldGFpbHMsXHJcbiAgZ2V0RGFzaGJvYXJkU3RhdHMsXHJcbiAgaXNOR09WZXJpZmllZCxcclxuICB2ZXJpZnlJUEZTRG9jdW1lbnQsXHJcbiAgZ2V0Q29udHJhY3RBZGRyZXNzZXMsXHJcbiAgRElTQVNURVJfVFlQRVMsXHJcbiAgVVJHRU5DWV9MRVZFTFMsXHJcbiAgY2hlY2tXZWIzQ29ubmVjdGlvbixcclxuICBjb25uZWN0V2FsbGV0XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJXZWIzIiwiRDNSUHJvdG9jb2xBQkkiLCJNaWxlc3RvbmVGdW5kaW5nQUJJIiwiTkdPUmVnaXN0cnlBQkkiLCJDaGFpbmxpbmtEaXNhc3Rlck9yYWNsZUFCSSIsIklQRlNWZXJpZmllckFCSSIsIkZ1bmRQb29sQUJJIiwiRG9uYXRpb25UcmFja2VyQUJJIiwid2ViMyIsImQzclByb3RvY29sIiwibWlsZXN0b25lRnVuZGluZyIsIm5nb1JlZ2lzdHJ5IiwiZGlzYXN0ZXJPcmFjbGUiLCJpcGZzVmVyaWZpZXIiLCJmdW5kUG9vbCIsImRvbmF0aW9uVHJhY2tlciIsIkQzUl9QUk9UT0NPTF9BRERSRVNTIiwiTUlMRVNUT05FX0ZVTkRJTkdfQUREUkVTUyIsIk5HT19SRUdJU1RSWV9BRERSRVNTIiwiRElTQVNURVJfT1JBQ0xFX0FERFJFU1MiLCJJUEZTX1ZFUklGSUVSX0FERFJFU1MiLCJGVU5EX1BPT0xfQUREUkVTUyIsIkRPTkFUSU9OX1RSQUNLRVJfQUREUkVTUyIsIkRJU0FTVEVSX1RZUEVTIiwiRUFSVEhRVUFLRSIsIkhVUlJJQ0FORSIsIkZMT09EIiwiV0lMREZJUkUiLCJEUk9VR0hUIiwiVFNVTkFNSSIsIlZPTENBTklDX0VSVVBUSU9OIiwiUEFOREVNSUMiLCJPVEhFUiIsIlVSR0VOQ1lfTEVWRUxTIiwiaW5pdFdlYjMiLCJhY2NvdW50cyIsIndpbmRvdyIsImV0aGVyZXVtIiwiY29uc29sZSIsImxvZyIsInJlcXVlc3QiLCJtZXRob2QiLCJvbiIsIm5ld0FjY291bnRzIiwibG9jYXRpb24iLCJyZWxvYWQiLCJjaGFpbklkIiwiZXJyb3IiLCJjdXJyZW50UHJvdmlkZXIiLCJldGgiLCJnZXRBY2NvdW50cyIsInByb3ZpZGVyIiwicHJvdmlkZXJzIiwiSHR0cFByb3ZpZGVyIiwiQ29udHJhY3QiLCJhYmkiLCJjb250cmFjdEVycm9yIiwiY2hlY2tXZWIzQ29ubmVjdGlvbiIsImxlbmd0aCIsIm5ldHdvcmtJZCIsIm5ldCIsImdldElkIiwibmV0d29ya1R5cGUiLCJnZXROZXR3b3JrVHlwZSIsIm1lc3NhZ2UiLCJjb25uZWN0V2FsbGV0IiwicmVzdWx0IiwiZXhwZWN0ZWROZXR3b3JrIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX05FVFdPUktfSUQiLCJ0b1N0cmluZyIsIm5ldHdvcmtOYW1lIiwiTkVYVF9QVUJMSUNfTkVUV09SS19OQU1FIiwicGFyYW1zIiwicGFyc2VJbnQiLCJzd2l0Y2hFcnJvciIsInN1Y2Nlc3MiLCJhZGRyZXNzIiwiZ2V0UmVsaWVmQ2FtcGFpZ25zIiwiZmlsdGVycyIsInByb2plY3RDb3VudCIsIm1ldGhvZHMiLCJjYWxsIiwiY2FtcGFpZ25zIiwiaSIsInByb2plY3REZXRhaWxzIiwiZ2V0UHJvamVjdERldGFpbHMiLCJpc0FjdGl2ZSIsIm1ldGFkYXRhIiwiZGlzYXN0ZXJUeXBlIiwiZ2V0UmFuZG9tRGlzYXN0ZXJUeXBlIiwiZGlzYXN0ZXJJZCIsImdldExvY2F0aW9uRm9yRGlzYXN0ZXJUeXBlIiwidXJnZW5jeUxldmVsIiwiZ2V0VXJnZW5jeUZvckRpc2FzdGVyVHlwZSIsInZlcmlmaWNhdGlvbiIsImdldERpc2FzdGVyVmVyaWZpY2F0aW9uIiwidmVyaWZpZWQiLCJjb25maWRlbmNlIiwic291cmNlIiwidmVyaWZpY2F0aW9uRXJyb3IiLCJtZXRhZGF0YUVycm9yIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInVyZ2VuY3kiLCJtaWxlc3RvbmVzIiwiaiIsIm1pbGVzdG9uZUNvdW50IiwibWlsZXN0b25lIiwiZ2V0TWlsZXN0b25lRGV0YWlscyIsInB1c2giLCJpZCIsIm1pbGVzdG9uZUVycm9yIiwibmdvRGV0YWlscyIsIm5hbWUiLCJnZXROR09EZXRhaWxzIiwibmdvQWRkcmVzcyIsIm5nb0Vycm9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNyZWF0b3IiLCJuZ29OYW1lIiwiY3VycmVudEFtb3VudCIsInJlbGVhc2VkRnVuZGluZyIsInRhcmdldEFtb3VudCIsInRvdGFsRnVuZGluZyIsIm1pbGVzdG9uZXNDb21wbGV0ZWQiLCJkZWFkbGluZSIsImNhbGN1bGF0ZURlYWRsaW5lIiwicGFyc2VkTWV0YWRhdGEiLCJwcm9qZWN0RXJyb3IiLCJkb25hdGUiLCJjYW1wYWlnbklkIiwiYW1vdW50IiwiRXJyb3IiLCJhbW91bnRXZWkiLCJ1dGlscyIsInRvV2VpIiwiZG9uYXRlVG9Qcm9qZWN0Iiwic2VuZCIsImZyb20iLCJ2YWx1ZSIsInByb3RvY29sRXJyb3IiLCJzZW5kVHJhbnNhY3Rpb24iLCJ0byIsImRhdGEiLCJlbmNvZGVGdW5jdGlvbkNhbGwiLCJ0eXBlIiwiaW5wdXRzIiwiZ2V0VmVyaWZpY2F0aW9uU3RhdHVzIiwidGltZXN0YW1wIiwiZ2V0RGFzaGJvYXJkU3RhdHMiLCJ2ZXJpZmllZE5HT3NDb3VudCIsImdldFZlcmlmaWVkTkdPc0NvdW50IiwidG90YWxEb25hdGlvbnMiLCJ0b3RhbERvbmF0aW9uc0JOIiwidG9CTiIsImFjdGl2ZUNhbXBhaWducyIsInRvdGFsUGVvcGxlSGVscGVkIiwiYWRkIiwiZnVuZGluZ0luRXRoZXIiLCJmcm9tV2VpIiwicGFyc2VGbG9hdCIsImJuRXJyb3IiLCJ0b0ZpeGVkIiwidG90YWxGdW5kaW5nRXRoIiwicGVvcGxlSGVscGVkRXN0aW1hdGUiLCJNYXRoIiwiZmxvb3IiLCJmb3JtYXR0ZWREb25hdGlvbnMiLCJwZW9wbGVIZWxwZWQiLCJ2ZXJpZmllZE5HT3MiLCJzZWVkIiwidHlwZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJsb2NhdGlvbnMiLCJ1cmdlbmNpZXMiLCJwcm9qZWN0SWQiLCJub3ciLCJEYXRlIiwiZGF5c0Zyb21Ob3ciLCJpc05HT1ZlcmlmaWVkIiwiaXNWZXJpZmllZCIsInZlcmlmeUlQRlNEb2N1bWVudCIsImNpZCIsInZlcmlmeURvY3VtZW50IiwiZ2V0Q29udHJhY3RBZGRyZXNzZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./utils/web3.js\n"));

/***/ })

});